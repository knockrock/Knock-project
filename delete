#include <stdio.h>#include <stdlib.h>typedef struct movie_node{   int  *serial_number;   char * title;   char * genre;   char * director;   char * year;   char * runtime;   char * actors;   struct movie_node *next;}m_node; //영화 정보 저장 구조체
typedef struct director_node{   int *serial_number;   char *name;   char *sex;   char *birth;   char *best_movies;   struct director_node *next;}d_node; //감독 정보 저장 구조체
typedef struct actor_node{   int *serial_number;   char *name;   char *sex;   char *birth;   char *best_movies;   struct actor_node *next;}a_node; //배우 정보 저장 구조체
typedef struct movie_list{   m_node *tail;}m_linkedlist;
typedef struct director_list{   d_node *tail;}d_linkedlist;
typedef struct actor_list{   a_node *tail;}a_linkedlist;
int Display_m(m_node* p){  int i = 1;  while(p->next != NULL){    i++;  }  return i-1;}
int Display_a(a_node* p){  int i = 1;  while(p->next != NULL){    i++;  }  return i-1;}
int Display_d(d_node* p){  int i = 1;  while(p->next != NULL){    i++;  }  return i-1;}
m_node* delete_m(m_node* p){  int num,number;  number = Display_m(p);  m_node* start = p;  scanf("%d",num);  if(num > number){    printf("No such record");  }  if(num == 1)  {    start = p -> next;    free(p);  }  else  {    int i;    m_node* tmp;    for(i=1;i<num -1; i++)    {      p = p->next;    }    tmp = p -> next;    FILE *fp1=fopen("movie_log","a");    fprintf(fp1,"delete:");    fprintf(fp1,"%d:",*tmp->serial_number);    fputs(tmp->title,fp1);    fprintf(fp1,":");    fputs(tmp->genre,fp1);    fprintf(fp1,":");    fputs(tmp->director,fp1);    fprintf(fp1,":");    fputs(tmp->year,fp1);    fprintf(fp1,":");    fputs(tmp->runtime,fp1);    fprintf(fp1,":");    fputs(tmp->actors,fp1);    fprintf(fp1,"\n");    fclose(fp1);    p -> next = p -> next -> next;    free(tmp);    printf("Done@@");  }  return start;}
a_node* delete_a(a_node* p){  int num,number;  number = Display_a(p);  a_node* start = p;  scanf("%d",num);  if(num > number){    printf("No such record");  }  if(num == 1)  {    start = p -> next;    free(p);  }  else  {    int i;    a_node* tmp;    for(i=1;i<num -1; i++)    {      p = p->next;    }    tmp = p -> next;    FILE *fp1=fopen("actor_log","a");    fprintf(fp1,"delete:");    fprintf(fp1,"%d:",*tmp->serial_number);    fputs(tmp->name,fp1);    fprintf(fp1,":");    fputs(tmp->sex,fp1);    fprintf(fp1,":");    fputs(tmp->birth,fp1);    fprintf(fp1,":");    fputs(tmp->best_movies,fp1);    fprintf(fp1,"\n");    fclose(fp1);    p -> next = p -> next -> next;    free(tmp);    printf("Done@@");  }  return start;}
d_node* delete_d(d_node* p){  int num,number;  number = Display_d(p);  d_node* start = p;  scanf("%d",num);  if(num > number){    printf("No such record");  }  if(num == 1)  {    start = p -> next;    free(p);  }  else  {    int i;    d_node* tmp;    for(i=1;i<num -1; i++)    {      p = p->next;    }    tmp = p -> next;    FILE *fp1=fopen("director_log","a");    fprintf(fp1,"delete:");    fprintf(fp1,"%d:",*tmp->serial_number);    fputs(tmp->name,fp1);    fprintf(fp1,":");    fputs(tmp->sex,fp1);    fprintf(fp1,":");    fputs(tmp->birth,fp1);    fprintf(fp1,":");    fputs(tmp->best_movies,fp1);    fprintf(fp1,"\n");    fclose(fp1);    p -> next = p -> next -> next;    free(tmp);    printf("Done@@");  }  return start;}
